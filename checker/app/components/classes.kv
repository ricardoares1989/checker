#:import Hex kivy.utils.get_color_from_hex
#:import dark_contrast app.settings.styles.dark_contrast
#:import dark_contrast_2 app.settings.styles.dark_contrast_2
#:import light_contrast app.settings.styles.light_contrast
#:import light_contrast_2 app.settings.styles.light_contrast_2
#:import alert_color app.settings.styles.alert_color
<MainScreenWidget>
    canvas.before:
        Color:
            rgba: Hex("#FFFFFF")
        Rectangle:
            pos: self.pos
            size: self.size

<Header@FloatLayout>:
    size_hint: 1, .12
    pos_hint: {"x": 0, "y": .9 }
    canvas.before:
        Color:
            rgba: .21, .70, .29, .26
        Rectangle:
            pos: self.pos
            size: self.size
    FloatLayout:
        size_hint: .2, 1
        pos_hint: {"x": 0, "y": 0 }
        Image:
            pos_hint: {"x": 0, "y": 0 }
            size_hint: .8,.8
            source: 'app/settings/assets/logo_farmex.png'
    FloatLayout:
        pos_hint: {"x": .2, "y": 0}
        size_hint: .8, 1
        Label:
            pos_hint: {"x": 0, "y": 0 }
            size_hint: .8,.8
            text: "Entrada A"
            font_size: 80
            color: Hex(dark_contrast_2)

<Counter@FloatLayout>
    id: counter_container
    size_hint: .28, .08
    pos_hint: {"x": .57, "y": .75 }
    Label:
        id: counter
        pos_hint: {"x": 0, "y": 0 }
        size_hint: 1,1
        text: "0"
        font_size: 80
        color: Hex(dark_contrast)

<RegisterBackgroundColor@Widget>
    background_color: .98, .69, .25, .5
    canvas.before:
        Color:
            rgba: root.background_color
        Rectangle:
            size: self.size
            pos: self.pos

<RegisterLabel@Label+RegisterBackgroundColor>

<Register@BoxLayout>
    orientation: 'horizontal'
    data_id: ""
    spacing: 8
    padding: 4
    size_hint: .42, .33
    RegisterLabel:
        id: register_label
        size_hint_x: .8
        font_size: 50
        color: Hex(dark_contrast_2)
    Button:
        id: delete_register
        size_hint_x: .2
        text: "X"
        font_size: 50
        background_normal: ""
        background_color: alert_color

<Checks@GridLayout>:
    cols: 1
    rows: 4
    size_hint: .42, .33
    pos_hint: {"x": .14, "y": .5 }

<KeyboardButton@Button>
    foreground_color: Hex("#FFFFFF")
    background_normal: ""
    background_color: Hex("#36B54A")
    font_size: 30

<InputLabel@RegisterBackgroundColor+Label>
    background_color: Hex("#36B54A")

<InputRegister@FloatLayout>
    size_hint: .9, .08
    pos_hint: {"x": .07, "y": .37 }
    id: text_input
    InputLabel:
        id: text_label
        pos_hint: {"x": .05, "y": .42 }
        size_hint: .4,1
        font_size: 40
    KeyboardButton:
        size_hint: .4,1
        pos_hint: {"x": .5, "y": .42 }
        id: undo
        text: "borrar"

<Saver@FloatLayout>
    size_hint: 1, .4
    pos_hint: {"x": 0, "y": 0}
    GridLayout:
        id: grid
        cols: 3
        rows: 4
        spacing: 5
        padding: 5
        KeyboardButton:
            id: seven
            text: "7"
        KeyboardButton:
            id: eight
            text: "8"
        KeyboardButton:
            id: nine
            text: "9"
        KeyboardButton:
            id: four
            text: "4"
        KeyboardButton:
            id: five
            text: "5"
        KeyboardButton:
            id: six
            text: "6"
        KeyboardButton:
            id: one
            text: "1"
        KeyboardButton:
            id: two
            text: "2"
        KeyboardButton:
            id: three
            text: "3"
        Button:
            id: save
            size_hint: .28, .08
            font_size: 18
            foreground_color: Hex("#FFFFFF")
            text: "Registrar"
            background_normal: ""
            background_color: Hex(dark_contrast)
        KeyboardButton:
            id: zero
            text: "0"
        Button:
            id: export
            size_hint: .28, .08
            font_size: 18
            foreground_color: Hex("#FFFFFF")
            text: "Generar Excel"
            background_normal: ""
            background_color: Hex(dark_contrast_2)
